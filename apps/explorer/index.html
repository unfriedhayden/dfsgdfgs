<!DOCTYPE html>
<html>
<head>
  <title>File Explorer</title>
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; margin:0; background:transparent;}
    #file-list { list-style: none; padding:0;}
    #file-list li { margin: 10px 0; cursor: pointer; }
    #file-viewer { margin-top: 15px; }
    .nav { margin: 22px 24px; }
    .nav a { margin-right: 18px; color: #0a84ff; text-decoration: none; }
    .nav a:hover { text-decoration: underline; }
    .back { display: inline-block; margin-top: 18px; color: #444; cursor: pointer; }
  </style>
</head>
<body>
  <h2 style="margin:18px 24px 0;">File Explorer</h2>
  <div class="nav">
    <a href="#" onclick="openApp('settings')">Settings</a>
    <a href="#" onclick="openApp('about')">About</a>
  </div>
  <ul id="file-list"></ul>
  <div id="file-viewer"></div>
  <div class="back" onclick="closeMe()">‚Üê Back to Desktop</div>
  <script>
    const files = [
      { name: "Document.txt", type: "text", content: "Hello, world!" },
      { name: "Picture.jpg", type: "image", url: "https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80" }
    ];
    const fileList = document.getElementById('file-list');
    const viewer = document.getElementById('file-viewer');
    files.forEach(f => {
      const li = document.createElement('li');
      li.textContent = f.name;
      li.onclick = () => {
        if (f.type === "text") viewer.innerHTML = `<pre>${f.content}</pre>`;
        else if (f.type === "image") viewer.innerHTML = `<img src="${f.url}" style="max-width:100%">`;
      };
      fileList.appendChild(li);
    });
    function closeMe() {
      if (window.parent && window.parent.windowManager) {
        for (const win of window.parent.windowManager.windows) {
          if (win.appName === "explorer") window.parent.windowManager.close(win.id);
        }
      }
    }
    function openApp(app) {
      window.parent.windowManager.openApp(app, window.parent.apps.find(a=>a.id===app));
    }
  </script>
</body>
</html>
